python版本:3.7
django版本:3.1
依赖包(除django以外):
django-cors-headers,pymysql
如遇其他无法启动问题,可尝试在项目文件夹里执行:
python manage.py migrate

目前尚未完成的功能:用户退出团队涉及的文档权限变更...其他必要的功能

目前发现前端不能向后端传送数组数据,后端不能向前端传送{xx:yy}之类的数据,在以下参数和返回值中会有说明
函数调用情况:
除main.js配置的域名之外,post地址默认均以group/开头,以xxx/结尾(不用忘记最后的/)

①创建团队:
create_group/
groupname:"团队名",groupintro:"团队简介",id:组长用户编号
返回值:1 成功,0 失败

②加入团队:
join_group/
id:用户编号,groupnum:团队编号
返回值:1 成功,2 已加入,0 失败

③退出团队(退出之后的文档权限变更部分还没有):
quit_group/
id:用户编号,groupnum:团队编号
返回值:1 成功,2 不在团队中,0 失败

④(批量)设置管理员:
set_admin/
users:"用户编号,用户编号,用户编号,..."
groupnum:团队编号
此处的users是将批量设置的用户编号以逗号分隔开组成的字符串,即若要设置为管理员的成员是1,3,5,7,那么users参数的内容就是"1,3,5,7".由于前端不能向后端发送数组,所以需要麻烦前端的同学进行一下处理
返回值:1 成功,0 失败

⑤(批量)撤销管理员:
同上

⑥根据团队编号获取成员:
get_users/
groupnum:团队编号
返回值:是以如下格式返回的数组
[[成员1],[成员2],[成员3],...],每个成员元素同时也是一个数组,内部结构:["用户名",用户编号,是否为组长(1/0),是否为管理员(1/0)],每个用户元素对应一个页面中的独立结构,这一独立结构要展示的信息则从每个用户元素中获取

⑦根据用户编号获取加入组:
get_groups/
id:用户编号
返回值:是以如下格式返回的数组
[[组1],[组2],[组3],...],每个组元素同时也是一个数组,内部结构:
["组名",组编号,组内人数,"小组简介"],处理思路同上理

⑧根据关键词搜索组:
search_groups/
key:"关键词"
返回值:返回的格式与⑦完全一致

---更新:
对参数中的参数名做了修正,为方便替换,所有"usernum"均改为"id"

团队部分新增函数:
⑨管理员移出用户:
kick_out_user/
id:用户编号
groupnum:团队编号
返回:1 成功,0 失败

⑩解散团队:
dismiss_group/
groupnum:团队编号
返回:1 成功

11.发送邀请信息(没有做撤销功能):
send_invitation/
id:发送邀请者的用户编号
groupnum:发送邀请者所在团队的编号
receivename:接受邀请者的用户名
返回值:1 成功发送

12.获取接收到的邀请列表:
id:用户编号
返回值:["发送邀请者用户名",组编号,"组名",是否被处理]
是否被处理的取值有三:0为未被处理,1为同意,-1为拒绝

13.获取发送出去的邀请列表:
id:用户编号
返回值:["接受邀请者用户名",组编号,"组名",是否被处理]
是否被处理的取值有三:0为未被处理,1为同意,-1为拒绝

14.处理邀请:
id:用户编号
groupnum:组编号
op:处理选项,1为同意,-1为拒绝
返回值:1 成功

新增文档部分,由于文档部分涉及的内容相当多,此处文档功能仅供测试之用
其post地址皆以doc/开头:
①文档保存:
save_doc/
id:文档编号
msg:"文档内容"
返回值:1 成功

②获取文档:
get_doc/
id:文档编号
返回值:字符串,将其值赋给文档编辑器即可
